# ウェブクローラーとユーザエージェント

:warning: ウェブ上のデータを収集するウェブクローラー（ボット）の利用には細心の注意が必要です。

特に、プログラム実行前に、以下の3つのことを厳守してください。

- 同一ドメインへのアクセスには1秒間の間隔を設ける
- 研究室用のユーザエージェント名を付与する
- 指導教員にプログラムを確認してもらう
- 研究室ホームページでテストする

## 同一ドメインへのアクセス

- 同一ドメインに短時間で複数回のアクセスを行うと、ウェブサーバへ負担をかける可能性があります。
- プログラムの`sleep`関数などを用いて、アクセスに十分な間隔を空けてください。
  - 参考URLの資料では「0.5秒」を基準としているようですので、「1秒」ぐらいが安全でしょう

## 研究室用のユーザエージェント名

- 万が一、ウェブクローラーが問題を起こしたときに、ウェブサイト管理者が問い合わせをできるように、身元をはっきりさせておくことが重要です。
- プログラム中のユーザエージェント（`UserAgent`）を定義する箇所に、以下の文字列を挿入してください。

> Joholabot/x.x (https://docs.joholab.com/lab/v/ja/about/web-crawler)

- これにより、不審におもったウェブサイト管理者は上記URLの説明を参照することができます。
- `x.x`の部分は誰のボットか分かるように識別子として使用します。自分の識別子は指導教員に確認してください。

## 実行前の確認

- ウェブクローラーを世に放つ前に二つの確認をしてください。
  - 指導教員にプログラムを確認してもらう
  - 研究室ホームページを対象にクロールしてみる


## 参考URL

- https://developer.mozilla.org/ja/docs/Web/HTTP/Headers/User-Agent
- https://www.ipa.go.jp/files/000017319.pdf